class EventLogger
#--------------------------------------------------------------------------------------------------------------------------------
#--------------------------------------------------------------------------------------------------------------------------------

  def self.log(usr,obj,act,res=nil,comment=nil,options={})

    options[:save] = true if options[:save] == nil

    EventLog.generate(usr,obj,act,res,comment)

    if obj.respond_to?(:history)
      event  = "- [#{Time.now}] - [#{usr ? usr.id : '?'}] - #{act}"
      event += " - #{dscr}" unless dscr.blank?
      obj.history = "#{event}<br/>#{self.history || ''}"
      obj.save! if options[:save]
    end # write history

  end

#--------------------------------------------------------------------------------------------------------------------------------
#--------------------------------------------------------------------------------------------------------------------------------
end